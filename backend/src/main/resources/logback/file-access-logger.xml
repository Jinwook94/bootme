<?xml version="1.0" encoding="UTF-8"?>
<included>
    <property name="DIR_TEXT" value="/home/ec2-user/logs/access/text/"/>
    <appender name="file-access-text" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${DIR_TEXT}bootme-backend-access-text-%d{yyyy-MM-dd}.%i.log</fileNamePattern>
            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
                <maxFileSize>10MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>
            <maxHistory>30</maxHistory>
        </rollingPolicy>
        <encoder>
            <charset>utf8</charset>
            <Pattern>
                %date{yyyy-MM-dd'T'HH:mm:ss.SSSXXX} [%threadName] [%localIP:%localPort %remoteIP "%clientHost"] "%requestURL" %statusCode %bytesSent %elapsedTime Request Headers: %header, Response Headers: {Content-Type: %responseHeader{Content-Type}, Date: %responseHeader{Date}, Set-Cookie: %responseHeader{Set-Cookie}}, Response Body: %responseContent
            </Pattern>
        </encoder>
    </appender>

    <property name="DIR_JSON" value="/home/ec2-user/logs/access/json/"/>
    <appender name="file-access-json" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${DIR_JSON}bootme-backend-access-json-%d{yyyy-MM-dd}.%i.log</fileNamePattern>
            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
                <maxFileSize>10MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>
            <maxHistory>30</maxHistory>
        </rollingPolicy>
        <encoder>
            <charset>utf8</charset>
            <Pattern>
                {"@timestamp":"%date{yyyy-MM-dd'T'HH:mm:ss.SSSXXX}","localIP":"%localIP:%localPort","remoteIP":"%remoteIP","clientHost":"%clientHost","user":"%user","requestURL":"%requestURL","statusCode":"%statusCode","bytesSent":"%bytesSent","elapsedTime":"%elapsedTime","threadName":"%threadName","request headers":"%header","response headers":"{Content-Type: %responseHeader{Content-Type}, Date: %responseHeader{Date}, Set-Cookie: %responseHeader{Set-Cookie}}"}
            </Pattern>
        </encoder>
    </appender>
</included>